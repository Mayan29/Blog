# 第二章 音频播放和录制

## 1. 音频会话分类

### AVAudioSessionCategoryAmbient
只用于播放音乐，并且可以和 QQ 音乐同时播放，比如玩游戏的时候还想听 QQ 音乐的歌，那么把游戏播放背景音就设置成这种类别。同时，当用户锁屏或者静音时也会随着静音，这种类别适用于背景音乐。
### AVAudioSessionCategorySoloAmbient（默认）
也是只用于播放音乐，但是不同的是，用了它就别想听 QQ 音乐了，比如不希望 QQ 音乐干扰的 APP，例如节奏大师。同样当用户锁屏或者静音时也会随着静音，锁屏了就玩不了节奏大师了。
### AVAudioSessionCategoryPlayback 
如果锁屏了还想听声音怎么办？用这个类别，比如 APP 本身就是播放器，同时当音乐播放时，其他类似QQ 音乐就不能播放了。所以这种类别一般用于播放器类 App
### AVAudioSessionCategoryRecord 
比如微信语音的录制，就要用到这个类别，既然要安静的录音，肯定不希望有 QQ 音乐了，所以其他播放声音会中断。想想微信录音的场景，就知道什么时候用他了。
### AVAudioSessionCategoryPlayAndRecord 
用于既需要播放又需要录制声音的应用，比如微信语音聊天，该类别就是专门为这样的场景设计的。
### AVAudioSessionCategoryAudioProcessing 
使用硬件解码器处理音频，该音频会话使用期间，不能播放或录音
### AVAudioSessionCategoryMultiRoute 
想象一个 DJ 用的 App，手机连着 HDMI 到扬声器播放当前的音乐，然后耳机里面播放下一曲，这种常人不理解的场景，这个类别可以支持多个设备输入输出。

上述分类所提供的几种常见行为可以满足大部分应用程序的需要，如果需要更复杂的功能，上述其中一种分类可以通过使用 options 和 modes 方法进一步自定义开发。
